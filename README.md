# 用户指南
脸滚键盘——优秀的小说创作解决方案。

## 总体说明

本项目是专为小说创作而设的解决方案，尤其适用于长篇小说的创作，主要功能集中在角色信息卡，地理，势力，物品等其他资料项目管理，各章节则通过树形目录结构分章管理，写作时可以随时记录，调阅相关备忘。

## 免责说明

本项目出于互联网分享精神进行开源，个人保留一切合法权益，并且不对使用本项目所造成的一切负面后果负责。

本项目原则上应配合云盘产品同步保存自己的数据，这里[推荐使用坚果云](https://www.jianguoyun.com/)。

>作者接受关于此软件的批评和建议，但不接受喷子的恶意谩骂和伸手党的无脑索取，万一不幸发生点儿什么卡死崩溃，杀软拦截，甚至丢稿之类的不愉快事情，态度好点，和善交流，才能寻求解决。

## 关于开源

开源并不意味着免费，免费也不意味着白嫖，这里提供免费使用只是一种出于互联网分享精神的奉献，但不要过多期待。

本项目遵循**GPL3**开源协议进行开源，具备**开源传染性**，引用本项目代码和资源的产品，无论商业还是非商用都**必须**开源。

不允许引用本项目代码和资源的产品商业化使用，不允许**学习**和**个人自用**目的之外进行的二次开发，即便二次开发也不允许公开发表，但可以通过Fork之后pull requests来反哺本项目。

（原则上不会批准过多改进的推送，因为我没有驾驭团队开发的能力，怕搞乱自己的库，但又想要参考一下你们的改良，才需要你们的贡献，也就是说，反向白嫖）

>本条款为预防性质条款，毕竟Ctrl+C免费东西之后之后转头抢用户并且收费的事情也不少。

# 常用操作
## 在目录树中

载入新书籍后，在目录区域创建首个节点：`鼠标右键`

重命名 ：`F2`

节点上移 ：`Ctrl + U`

节点下移 ：`Ctrl + J`

删除节点 ：`Del`

插入兄弟节点 ：`Insert`

在增加子节点，在文档增加兄弟节点：`Enter`


## 在编辑器中

向下查找选定文字：`F3`

向上查找选定文字：`F4`

打开搜索面板：`Ctrl + F`

打开替换面板：`Ctrl + H`

排版：`F9`

撤销：`Ctrl+Z`

重做：`Ctrl+Y`

# 敬请注意

## 可能使用网络连接的地方

1.释义工具调用汉典页面：[汉典：https://www.zdic.net/](https://www.zdic.net/)

2.起名工具，点选名字之后获取拼音（本地有拼音字典，无条目时才会从[汉典](https://www.zdic.net/)获取）

在此鸣谢：[汉典：https://www.zdic.net/](https://www.zdic.net/)

## 可能存在的杀软拦截

这个属于常识问题，懂的都懂，不懂的也很难解释，实在不放心，别用。

又不放心，又偏要用，可以自己克隆库自己检查源代码自己编译运行，不要用已经编译好的。

这就涉及到**学习**和**个人自用**目的之外进行的二次开发了，详见下文：[开发者指南](#开发者指南)。

# <a href="#开发者指南">开发者指南</a>

## 依赖框架
><font color=#0000FF >（如未特别说明，利用源代码开发时，需从NuGet安装，版本可能有出入）</font>

数据库：System.Data.SQLite.Core 1.0.115

编辑器：AvalonEdit 6.1.2.30

界面：HandyControl 3.2.0

自然语言处理：jieba.NET 0.42.2（暂未决定是否一直使用）

---

图标：Androidicons Developer set 3.0
>在`Resourses/图标`文件夹下，无需安装

## 命名规范
类型作为前缀（类似匈牙利命名法）
> 比如说书本目录树和资料目录树两个控件，都把Tree这个单词放在前面，命名为TreeBook和TreeMaterial，以便在资源管理器中的规整排序，其他变量，属性，字段亦同此理。

`U前缀`意味着自定义控件UserControl
> 比如自定义控件`随手记录`，在项目中的文件名称是`UNotes`

`W前缀`意为着窗体Window
> 比如自定义控件`随手记录`关联的窗体，在项目中的文件名称是`WNotes`

`C前缀`意味着类Class
> 比如自定义控件`随手记录`相关的操作类，在项目中的文件名称是`CNotes`

大驼峰命名法
> 类名，方法名，属性名，公共变量等等。

小驼峰命名法
> 内部变量和私有字段等等。

## 项目结构

### 主窗口MainWindow
> 主要布局面板，用于承载各功能控件

### 自定义控件Editor（AvalonEdit套壳）
> 显示编辑区域，由章节目录树双击节点呈现

### 自定义控件UTreeViewPlus（目录树增强控件）
> 目录结构，包括章节目录，资料目录，记事板，任务清单

### 自定义控件RoleCard
> 管理角色信息

### 自定义控件InfoCard
> 管理通用信息

### 自定义控件Searcher
> 对当前书籍或者全部书籍进行搜索

### 工具栏
> 包含了起名工具，字词释义，随手记录，场记大纲，番茄时间，回收站等等功能

## 展望
* 增加一些图标和主题样式，花里胡哨的一套又一套
* 改进整体架构，进行代码重构
* 强化编辑器和信息卡的功能
* 情节推演，大纲呈现等等功能